{% extends 'base.html' %}

{% block title %} View Page {% endblock %}

{% block content %}

<div class="text-gray-900 bg-gray-200 py-4">
	<center>
		<h1 class="text-3xl">
		            Your To-Do-List
		</h1>
	</center>
    <div class="px-3 py-4 flex justify-center">
        <table class="w-full text-md bg-white shadow-md rounded mb-4" style="width:70%">
            <tbody>
                <tr class="border-b">
                    <th class="text-left p-3 px-5">Task</th>
                    <th class="text-left p-3 px-5">Created On</th>
                    <th></th>
                </tr>
		{% for v in view_tasks %}
			{% if v.completed == True %}
				<tr class="border-b hover:bg-orange-100">
					<td class="p-3 px-5"><strike>{{ v.task }}</strike></td>
					<td class="p-3 px-5">{{ v.created }}</td>
					<td class="p-3 px-5 flex justify-end"><button type="button" class="mr-3 text-sm bg-indigo-500 hover:bg-indigo-700 text-white py-15 px-3 rounded focus:outline-none focus:shadow-outline"><a href="{% url 'edit' id=v.task %}">Edit</a></button><button type="button" class="mr-3 text-sm bg-red-500 hover:bg-red-700 text-white py-1.5 px-3 rounded focus:outline-none focus:shadow-outline"><a href="{% url 'delete' id=v.task %}" onclick="return confirm('Are you sure you want to delete this task?')">Delete</a></button></td>
				</tr>
			{% else %}
				<tr class="border-b hover:bg-orange-100">
					<td class="p-3 px-5">{{ v.task }}</td>
					<td class="p-3 px-5">{{ v.created }}</td>
					<td class="p-3 px-5 flex justify-end"><button type="button" class="mr-3 text-sm bg-indigo-500 hover:bg-indigo-700 text-white py-15 px-3 rounded focus:outline-none focus:shadow-outline"><a href="{% url 'edit' id=v.task %}">Edit</a></button><button type="button" class="mr-3 text-sm bg-red-500 hover:bg-red-700 text-white py-1.5 px-3 rounded focus:outline-none focus:shadow-outline"><a href="{% url 'delete' id=v.task %}" onclick="return confirm('Are you sure you want to delete this task?')">Delete</a></button></td>
				</tr>
			{% endif %}
		{% empty %}
			<tr class="border-b hover:bg-orange-100">
				<td class="p-3 px-5">No tasks added</td>
				<td class="p-3 px-5"></td>
				<td class="p-3 px-5 flex justify-end">&emsp;&emsp;</td>
			</tr>
		{% endfor %}
            </tbody>
        </table>
    </div>
</div>

{% endblock %}
